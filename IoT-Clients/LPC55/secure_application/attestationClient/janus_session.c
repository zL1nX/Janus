#include "janus_session.h"


uint8_t janus_private_key[] = { 0xba, 0x8b, 0xa7, 0x1f, 0x6c, 0x76, 0xda, 0x0c, 0xf3, 0x24, 0xd6, 0x66, 0x3d, 0xc4, 0x80, 0x20, 0x47, 0x19, 0xf3, 0x75, 0xdf, 0xfe, 0xb2, 0x1f, 0xae, 0x76, 0xa7, 0x90, 0x20, 0xa4, 0x43, 0xf1 };
uint8_t g_other_personalkey[JANUS_COMM_KEY_LEN];
uint8_t g_other_pubkey[PUBKEY_SERIAL_SIZE];

struct RemoteAttestationClient g_client;
int role = IS_VERIFIER;

//serial_t sr;
// const char* puf = "/dev/ttyUSB1"; // Change this to the desired serial port device
// int baud_rate = 19200; 

int init_session()
{
    uint8_t* priv = janus_private_key;
    uint8_t personal_key[] = { 0xba, 0x8b, 0xa7, 0x1f, 0x6c, 0x76, 0xda, 0x0c, 0xf3, 0x24, 0xd6, 0x66, 0x3d, 0xc4, 0x80, 0x20};
    memcpy(g_client.personal_key, personal_key, JANUS_COMM_KEY_LEN);
    if(initJanusClient(&g_client, role, priv) != SUCCESS)
    {
        return ERROR_UNEXPECTED;
    }
    return SUCCESS;
}
